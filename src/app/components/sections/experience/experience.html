<section class="experience" id="experience">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Experience & Education</h2>
      <p class="section-subtitle">My professional journey</p>
    </div>

    <div class="experience-wrapper">
      <!-- Work Experience -->
      <div class="experience-section">
        <h3 class="subsection-title">
          <i class="fas fa-briefcase"></i>
          Work Experience
        </h3>

        <div class="timeline">
          <div class="timeline-line"></div>

          @for (exp of experiences; track exp.company + exp.position; let i = $index) {
            <div
              class="timeline-item"
              [class.left]="i % 2 === 0"
              [class.right]="i % 2 !== 0">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <span class="timeline-date">
                  {{formatDate(exp.startDate)}} -
                  @if (exp.current) {
                    <span>Present</span>
                  } @else {
                    <span>{{formatDate(exp.endDate!)}}</span>
                  }
                </span>

                <h4 class="timeline-title">{{exp.position}}</h4>
                <h5 class="timeline-company">
                  <i class="fas fa-building"></i>
                  {{exp.company}}
                </h5>

                <p class="timeline-description">{{exp.description}}</p>

                @if (exp.achievements) {
                  <div class="achievements">
                    <ul>
                      @for (achievement of exp.achievements; track achievement) {
                        <li>{{achievement}}</li>
                      }
                    </ul>
                  </div>
                }

                @if (exp.technologies) {
                  <div class="tech-stack">
                    @for (tech of exp.technologies; track tech) {
                      <span class="tech-tag">{{tech}}</span>
                    }
                  </div>
                }
              </div>
            </div>
          }
        </div>
      </div>

      <!-- Education -->
      <div class="education-section">
        <h3 class="subsection-title">
          <i class="fas fa-graduation-cap"></i>
          Education
        </h3>

        <div class="education-cards">
          @for (edu of education; track edu.institution + edu.degree) {
            <div class="education-card">
              <div class="edu-icon">
                <i class="fas fa-university"></i>
              </div>
              <div class="edu-content">
                <h4>{{edu.degree}}</h4>
                <h5>{{edu.institution}}</h5>
                <span class="edu-year">{{edu.year}}</span>
              </div>
            </div>
          }
        </div>
      </div>

      <!-- Certificates -->
      <div class="certificates-section">
        <h3 class="subsection-title">
          <i class="fas fa-certificate"></i>
          Certificates
        </h3>

        <div class="certificates-grid">
          @for (cert of certificates; track cert.name + cert.issuer) {
            <div class="certificate-card">
              <div class="cert-icon">
                <i [class]="cert.icon || 'fas fa-certificate'"></i>
              </div>
              <div class="cert-content">
                <h4>{{cert.name}}</h4>
                <h5>{{cert.issuer}}</h5>
                <div class="cert-dates">
                  <span class="cert-achieved">{{formatCertDate(cert.achievedDate)}}</span>
                  @if (cert.expiryDate) {
                    <span class="cert-expiry">
                      - Expires: {{formatCertDate(cert.expiryDate)}}
                    </span>
                  }
                </div>
              </div>
            </div>
          }
        </div>
      </div>
    </div>
  </div>
</section>
